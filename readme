Extract transaction from the Solana blockchain.

## Usage

1. Ensure Python 3.11+ is available (the script uses only the standard library).
2. Run the fetcher against the provided address list:

   ```bash
   python solscan_fetch.py --input solana.csv --output transactions.json --limit 50
   ```

   The fetcher now uses `getSignaturesForAddress` pagination to gather every signature before requesting the
   corresponding transactions via `/v0/transactions`, retrying missing entries if the history endpoint times out.
   Use `--limit` to control the page size (Helius allows up to 100), `--delay` to throttle requests/retries, and
   `--max` to optionally cap how many transactions to collect per address.

3. To use your own Helius API key or different API URLs, set environment variables:

   ```bash
   HELIUS_API_KEY="<your-api-key>" HELIUS_API_URL="https://api-mainnet.helius-rpc.com" \
   HELIUS_REST_API_URL="https://api.helius.xyz" python solscan_fetch.py
   ```

   The REST transactions endpoint defaults to `https://api.helius.xyz`, which serves the `/v0/transactions` route; override `HELIUS_REST_API_URL` if you need a different host (e.g., a private instance). Tip: pass only the host for `HELIUS_API_URL`/`HELIUS_REST_API_URL` (no `?api-key=` query string). The script appends the API key automatically and strips any accidental query parameters to avoid malformed URLs that can trigger 404s.

Results are written to `transactions.json` as a JSON object keyed by address.

### Converting to CSV for auditing

Use `convert_transactions.py` to flatten the JSON output into a CSV that lists one row per transfer (native SOL or SPL token).

```bash
python convert_transactions.py --input example-transactions.json --output transactions.csv
```

Columns include the source address, signature, slot, timestamp (ISO-8601), fee payer, transfer type, mint, amount, and the sender/recipient accounts to simplify accountability reporting.
